{"version":3,"file":"static/js/414.d96cc2e2.chunk.js","mappings":"4PACA,EAA4B,+BAA5B,EAAwE,gCAAxE,EAA4H,uCAA5H,EAA6P,sC,uCCA7P,EAAkC,mCAAlC,EAAqF,iCAArF,EAAkI,6B,mBC+BlI,EA3BkB,SAAC,GAA0B,IAAxBA,EAAuB,EAAvBA,iBACbC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,iCACE,eAAIC,UAAWC,EAAf,6BACA,eAAID,UAAWC,EAAf,SACGJ,GACCA,EAAiBK,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACnB,gBAAaL,UAAWC,EAAxB,WACE,0BACE,gBACEK,IAAKD,GAAcE,EAAAA,EAAAA,GAASF,GAAeG,EAC3CC,IAAKL,EACLM,MAAO,SAGX,SAAC,KAAD,CAAMC,GAAE,UAAKR,GAAMS,MAAO,CAAEC,KAAMf,GAAlC,SACGM,MATID,EADU,QAiB9B,EC+GD,EA1EoB,WAClB,OAAoCW,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KA6CA,OAhBAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,0CAKd,uGAC0BC,EAAAA,EAAAA,IAAeH,EAAaI,IAAI,UAD1D,cACQC,EADR,gBAE+BA,EAAUC,QAFzC,OAEQC,EAFR,OAIET,EAAcS,GAJhB,4CALc,sBACO,KAAjBP,IAEJJ,EAAa,UAACI,EAAaI,IAAI,gBAAlB,QAA8B,IAH7B,mCAYdI,GACAZ,EAAc,IACf,GAAE,CAACI,KAGF,iCACE,mBAAQpB,UAAWC,EAAnB,UACE,kBAAMD,UAAWC,EAAmB4B,SA1CrB,SAAAC,IACnBA,EAAEC,iBAEwB,KAAtBhB,EAAWiB,SAMfX,EAD6B,KAAfN,EAAoB,CAAEkB,MAAOlB,GAAe,CAAC,IAG3DQ,EAAAA,EAAAA,IAAeR,GAAYmB,MAAK,SAAAC,GAC1BA,EAAKT,QAAQU,OAAS,EACxBlB,EAAciB,EAAKT,UAEnBW,EAAAA,GAAAA,KAAW,yCACXnB,EAAc,IAEjB,IAEDF,EAAc,MAhBZqB,EAAAA,EAAAA,IAAM,qBAiBT,EAqBK,WACE,mBAAQC,KAAK,SAAStC,UAAWC,EAAjC,UACE,SAAC,MAAD,CAAUsC,MAAO,CAAEC,SAAU,IAA7B,uBAGF,kBACEC,KAAK,QACLH,KAAK,OACLI,MAAO3B,EACP4B,SAvDgB,SAAAb,GACxBd,EAAcc,EAAEc,cAAcF,MAAMG,cACrC,EAsDSC,YAAY,2BACZ9C,UAAWC,EACX8C,aAAa,MACbC,WAAS,UAIf,0BAAO/B,IAAc,SAAC,EAAD,CAAWpB,iBAAkBoB,QAGvD,EC/FD,EAVe,WACb,OACE,+BACE,2BACE,SAAC,EAAD,OAIP,C,8ECxCYV,EAAW,SAAA0C,GACtB,GAAIA,EAAO,MAAM,kCAAN,OAAyCA,EACrD,EAED1C,EAAS2C,UAAY,CACnBD,MAAOE,IAAAA,OAAAA,W,kMCLHC,EAAM,6BACNC,EAAM,2CAECC,EAAgB,mCAAG,oGACLC,EAAAA,EAAAA,IAAA,UAAaH,EAAb,kCAA0CC,IADrC,cACxBG,EADwB,yBAGvBA,EAAWC,MAHY,2CAAH,qDAMhBlC,EAAc,mCAAG,WAAMmC,GAAN,uFACHH,EAAAA,EAAAA,IAAA,UACpBH,EADoB,2BACEC,EADF,kBACeK,IAFZ,cACtBF,EADsB,yBAKrBA,EAAWC,MALU,2CAAH,sDAQdE,EAAe,mCAAG,WAAMC,GAAN,uFACJL,EAAAA,EAAAA,IAAA,UAAaH,EAAb,oBAA4BQ,EAA5B,YAAuCP,IADnC,cACvBG,EADuB,yBAGtBA,EAAWC,MAHW,2CAAH,sDAMfI,EAAY,mCAAG,WAAMD,GAAN,uFACDL,EAAAA,EAAAA,IAAA,UACpBH,EADoB,oBACLQ,EADK,oBACcP,IAFb,cACpBG,EADoB,yBAKnBA,EAAWC,MALQ,2CAAH,sDAQZK,EAAe,mCAAG,WAAMF,GAAN,uFACJL,EAAAA,EAAAA,IAAA,UACpBH,EADoB,oBACLQ,EADK,oBACcP,IAFV,cACvBG,EADuB,yBAKtBA,EAAWC,MALW,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/SearchMovie/SearchMovie.module.css?c852","webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","components/SearchMovie/SearchMovie.jsx","components/pages/Movies.jsx","service/get-img.js","service/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"SearchMovie_Searchbar__w7ySF\",\"SearchForm\":\"SearchMovie_SearchForm__WkWhg\",\"SearchForm-button\":\"SearchMovie_SearchForm-button__8784C\",\"SearchForm-button-label\":\"SearchMovie_SearchForm-button-label__sDtNl\",\"SearchForm-input\":\"SearchMovie_SearchForm-input__5GLPP\",\"BtnBack\":\"SearchMovie_BtnBack__L6rBh\"};","// extracted by mini-css-extract-plugin\nexport default {\"MoviesListTitle\":\"MovieList_MoviesListTitle__eWMqO\",\"BoxMoviesList\":\"MovieList_BoxMoviesList__7tqC7\",\"BoxMovies\":\"MovieList_BoxMovies__5NPk5\"};","import { Link, useLocation } from 'react-router-dom';\nimport { getImage } from './../../service/get-img';\nimport css from './MovieList.module.css';\nimport DEFAULT_FOTO from '../../img/200x300 zahlushka foto.png';\n\nconst MovieList = ({ searchMoviesList }) => {\n  const location = useLocation();\n\n  return (\n    <>\n      <h1 className={css['MoviesListTitle']}>Search result </h1>\n      <ul className={css['BoxMoviesList']}>\n        {searchMoviesList &&\n          searchMoviesList.map(({ id, title, poster_path }) => (\n            <li key={id} className={css['BoxMovies']}>\n              <div>\n                <img\n                  src={poster_path ? getImage(poster_path) : DEFAULT_FOTO}\n                  alt={title}\n                  width={100}\n                />\n              </div>\n              <Link to={`${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n};\n\nexport default MovieList;\n","// import PropTypes from 'prop-types';\n// import { useState } from 'react';\n// import { toast } from 'react-toastify';\n\n// import { ImSearch } from 'react-icons/im';\n\n// import css from './SearchMovie.module.css';\n\n// const SearchMovie = ({ handleFormSubmit }) => {\n//   const [inputValue, setInputValue] = useState('');\n\n//   const handleInputChange = e => {\n//     setInputValue(e.currentTarget.value.toLowerCase());\n//   };\n\n//   const handleSubmit = e => {\n//     e.preventDefault();\n\n//     if (inputValue.trim() === '') {\n//       toast('Enter your request');\n//       return;\n//     }\n\n//     handleFormSubmit(inputValue);\n//     setInputValue('');\n//   };\n\n//   return (\n//     <header className={css['Searchbar']}>\n//       <form className={css['SearchForm']} onSubmit={handleSubmit}>\n//         <button type=\"submit\" className={css['SearchForm-button']}>\n//           <ImSearch style={{ fontSize: 30 }}>Search</ImSearch>\n//         </button>\n\n//         <input\n//           name=\"query\"\n//           type=\"text\"\n//           value={inputValue}\n//           onChange={handleInputChange}\n//           placeholder=\"Find your favorite movie\"\n//           className={css['SearchForm-input']}\n//           autoComplete=\"off\"\n//           autoFocus\n//         />\n//       </form>\n//     </header>\n//   );\n// };\n\n// SearchMovie.propTypes = {\n//   handleFormSubmit: PropTypes.func.isRequired,\n// };\n\n// export default SearchMovie;\n\n//!===============================================================\n\nimport { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport { ImSearch } from 'react-icons/im';\n\nimport css from './SearchMovie.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovie } from 'service/movies-api';\nimport MovieList from './../MovieList/MovieList';\n\nconst SearchMovie = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [moviesList, setMoviesList] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleInputChange = e => {\n    setInputValue(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (inputValue.trim() === '') {\n      toast('Enter your request');\n      return;\n    }\n\n    const query = inputValue !== '' ? { query: inputValue } : {};\n    setSearchParams(query);\n\n    getSearchMovie(inputValue).then(movi => {\n      if (movi.results.length > 0) {\n        setMoviesList(movi.results);\n      } else {\n        toast.info('There are no movies for your request.');\n        setMoviesList([]);\n      }\n    });\n\n    setInputValue('');\n  };\n\n  useEffect(() => {\n    if (searchParams === '') return;\n\n    setInputValue(searchParams.get('query') ?? '');\n\n    async function fetchMovieList() {\n      const movieList = await getSearchMovie(searchParams.get('query'));\n      const movieListArray = await movieList.results;\n\n      setMoviesList(movieListArray);\n    }\n\n    fetchMovieList();\n    setInputValue('');\n  }, [searchParams]);\n\n  return (\n    <>\n      <header className={css['Searchbar']}>\n        <form className={css['SearchForm']} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={css['SearchForm-button']}>\n            <ImSearch style={{ fontSize: 30 }}>Search</ImSearch>\n          </button>\n\n          <input\n            name=\"query\"\n            type=\"text\"\n            value={inputValue}\n            onChange={handleInputChange}\n            placeholder=\"Find your favorite movie\"\n            className={css['SearchForm-input']}\n            autoComplete=\"off\"\n            autoFocus\n          />\n        </form>\n      </header>\n      <main>{moviesList && <MovieList searchMoviesList={moviesList} />}</main>\n    </>\n  );\n};\n\nexport default SearchMovie;\n","// import { useState, useEffect } from 'react';\n// import MovieList from './../MovieList/MovieList';\n// import SearchMovie from './../SearchMovie/SearchMovie';\n// import { getSearchMovie } from 'service/movies-api';\n\n// const Movies = () => {\n//   const [inputValue, setInputValue] = useState('');\n//   const [moviesList, setMoviesList] = useState([]);\n\n//   const handleFormSubmit = value => {\n//     setInputValue(value);\n//   };\n\n//   useEffect(() => {\n//     getSearchMovie(inputValue).then(movi => setMoviesList(movi.results));\n//   }, [inputValue]);\n\n//   return (\n//     <>\n//       <main>\n//         <SearchMovie handleFormSubmit={handleFormSubmit} />\n//         <h1>Search result</h1>\n//         <MovieList searchMoviesList={moviesList} />\n//       </main>\n//     </>\n//   );\n// };\n\n// export default Movies;\n\n//!========================================================\n\nimport SearchMovie from '../SearchMovie/SearchMovie';\n\nconst Movies = () => {\n  return (\n    <>\n      <main>\n        <SearchMovie />\n      </main>\n    </>\n  );\n};\n\nexport default Movies;\n","import PropTypes from 'prop-types';\n\nexport const getImage = image => {\n  if (image) return `https://image.tmdb.org/t/p/w500${image}`;\n};\n\ngetImage.propTypes = {\n  image: PropTypes.string.isRequired,\n};\n","import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org';\nconst KEY = 'api_key=345007f9ab440e5b86cef51be6397df1';\n\nexport const getMovieTrending = async () => {\n  const responsive = await axios.get(`${URL}/3/trending/movie/week?${KEY}`);\n\n  return responsive.data;\n};\n\nexport const getSearchMovie = async search => {\n  const responsive = await axios.get(\n    `${URL}/3/search/movie?${KEY}&query=${search}`\n  );\n\n  return responsive.data;\n};\n\nexport const getDetailsMovie = async movieId => {\n  const responsive = await axios.get(`${URL}/3/movie/${movieId}?${KEY}`);\n\n  return responsive.data;\n};\n\nexport const getCastMovie = async movieId => {\n  const responsive = await axios.get(\n    `${URL}/3/movie/${movieId}/credits?${KEY}`\n  );\n\n  return responsive.data;\n};\n\nexport const getReviewsMovie = async movieId => {\n  const responsive = await axios.get(\n    `${URL}/3/movie/${movieId}/reviews?${KEY}`\n  );\n\n  return responsive.data;\n};\n"],"names":["searchMoviesList","location","useLocation","className","css","map","id","title","poster_path","src","getImage","DEFAULT_FOTO","alt","width","to","state","from","useState","inputValue","setInputValue","moviesList","setMoviesList","useSearchParams","searchParams","setSearchParams","useEffect","getSearchMovie","get","movieList","results","movieListArray","fetchMovieList","onSubmit","e","preventDefault","trim","query","then","movi","length","toast","type","style","fontSize","name","value","onChange","currentTarget","toLowerCase","placeholder","autoComplete","autoFocus","image","propTypes","PropTypes","URL","KEY","getMovieTrending","axios","responsive","data","search","getDetailsMovie","movieId","getCastMovie","getReviewsMovie"],"sourceRoot":""}